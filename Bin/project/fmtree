#!/bin/sh

treefmt_cmd="$(command -v treefmt 2>&1)"
treefmt_cfg="$DOTS_CFG/treefmt/config.toml"

[ "$treefmt_cmd" ] || {
  printf "Error: treefmt not found." >&2
  return 1
}

[ -f "$treefmt_cfg" ] && {
  mv "$HOME/.treefmt.toml" "$HOME/.treefmt.toml.bak"
  cp "$treefmt_cfg" "$HOME/.treefmt.toml"
}

treefmt "$@"
