#!/bin/sh

initialize_bin() {
	BINIT_PATH="Bin/shellscript/base/binit"

	if [ -f "${BINIT_PATH}" ]; then
		printf "direnv: Loading binit...\n" >&2
		BINIT_ACTION="--run"

		if [ -x "${BINIT_PATH}" ]; then :; else
			chmod +x "${BINIT_PATH}"
		fi

		. "${BINIT_PATH}"
	else
		printf "direnv: binit not found at %s\n" "${BINIT_PATH}" >&2
	fi
}

initialize_flake() {
	command -v nix >/dev/null 2>&1 && use flake . --no-pure-eval
}

initialize_bin
initialize_flake
